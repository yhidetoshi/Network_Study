### Chapter1 ネットワークの基礎とTCP/IP

- MDI :コンピュータ
- NIC :ルータ
- MDI-X : ハブ/スイッチ
- Auto MDI/MDI-X : 接続されたケーブルに応じてMDIとMDI-Xを判別して接続する

- 光ケーブル
 - シングルモード
 - マルチモード　
 ※ コネクタの形状はSCやFCなどある
 
##### OSI参照モデル

- 標準インターフェースを定義することでマルチベンダに相互接続できる
- ネットワーク処理を分割することで開発設計が容易になる

![Alt Text](https://github.com/yhidetoshi/Pictures/raw/master/Network_Study/osi-model-fig2.jpg)

- メモ
  - 物理層
    - ケーブルや電気信号などを定義し、ビットを正しく伝送する
    - 電気信号をビット列に変換
  - ネットワーク層
    - 異なるNWを相互接続
    - エンドーツーエンドで最短経路を決める
  - データリンク層
    - ヘッダとトレーラを外してネットワーク層へ渡す
  - プレゼンテーション層
    - 文字コード、圧縮方式の表現方式

- カプセル化
  - 上位層プロトコルから渡されたデータにヘッダを付加
- トレーラ
  - 受信したデータのエラーチェック

**PDU(Protocol Data Unit)**

->データにヘッダが付加されて各層で抜かれるデータの単位

|レイヤー    |PDUの名前         |
|:-----------|:------------|
|4層:トランスポート層|セグメント|
|3層:ネットワーク層|パケット|
|2層:データリンク層|フレーム|
|1層:物理層|ビット|
   
 [データが送信される際、データがカプセル化されて物理的な信号に変換されるまで]
 
 `データ`->`セグメント`->`パケット`->`フレーム`->`ビット`
    
[DIX仕様のイーサネットフレーム]

|宛先MACアドレス|送信元MACアドレス|タイプ|データ|FCS|
|:-----------|:------------|:------------|:------------|:------------|


- **MACアドレス**
 - 48bitで12桁の16進数
 - 8bitごとに`-`か`:`で区切る
 - ベンダーによっては16bitごとに`.`で区切る
 - 小文字/大文字の区別はない

|OUI(24bit)|ベンダーコード(24bit)|
|:-----------|:------------|


- 接続ケーブル
 - クロスケーブル
   - 同じデバイス同士
 - ストレートケーブル
   - 異なるコネクタのデバイス同士
 - ロールオーバーケーブル
   - ルータ/スイッチのコンソールポートとコンピュータの接続 
 - シリアルケーブル
   - ルータのシリアルインターフェースと接続 
  
- CSMA/CD
 - CS(Carrier Sense)
   - ケーブル上に信号が流れていないか確認
 - MA(Multiple Access)
   - すべてのホストが平等に送信権利をもち、ケーブルを共有する 
 - CD (Collision Detection)
   - 衝突を検出すると、ジャム信号を送信してランダム時間待機する(バックオフ) 
 
- 全二重/半二重
 - 全二重(full duplex)
   - データの送信と受信を同時に行うことができるために、コリジョンが発生しない
 - 半二重(half duplex)
   - データの送信と受信を同時に行うことができないために、コリジョンが発生する
   - ハブと接続すると半二重通信になる 

- ハブとスイッチの特徴
 - ハブ(リピータハブ)
   - Layer1(物理)デバイス 
   - 受信信号を増幅し、すべてのポートに信号を中継(受信ポートは除く)
   - コリジョンドメインを分割できない
 - スイッチ
   - Layer2(データリンク層)デバイス
   - MACアドレスに基づきフレームを転送する
   - コリジョンドメインを分割できる
   - L3スイッチ(ルータ)はブロードキャストドメインを分割できる
   - L2スイッチはVLANを実装することでブロードキャストドメインを分割できる
 
