#### Chapter5 IPルーティングの基礎
- **内容**
  - **ルーティングの概要**
  - **ルーティングテーブル**
  - **スタティックルーティング**
  - **ダイナミックルーティング**
  - **デフォルトルート**
  - **メトリックとアドミニストレーティブディスタンス**
  - **クラスフルルーティングプロトコルとクラスレスルーティング**
  - **ディスタンスベクター概要**
  - **経路集約**
  
[コマンドメモ]

|コマンド    |説明         |
|:-----------|:------------|
|(config)#ip route <address> <mask> <next-hop>|スタティックルート設定|
  
  
  
**[ルーティング]**
パケットを宛先ホストに届けるために最適なルートを選択するプロトコル(aから順に実行する)
  1. パケットを受信するとLayer3ヘッダにある宛先IPアドレスを確認する
  2. 次にルーティングテーブルを参照してルーティングを実行する
  3. 転送先であるネクストホップアドレスのアドレスを決定
  4. 発信するインターフェースへパケットをスイッチングして転送する
    
- **スタブネットワーク**
  - 外部ネットワークへの接続が1つしかない端末のネットワークのこと
  - 管理者は対向ルータに対してスタブネットワークへの経路情報を1つだけ登録すればいいのでスタティックルーティングが適している


**[スタティックルーティングの特徴]**
  1. 管理者が決定した経路情報を手動で登録する
  2. 他のルータへ経路情報を通知しないため、セキュリティが強固
  3. 帯域幅を消費しない
  4. トポロジ変更によるルーティングテーブルの自動更新を行わない
  5. 大規模ネットワークでは管理者の手間がかかる
  6. スタブネットワークへのルーティングに最適


|種類        |コード       |
|:-----------|:------------|
|OSPF        |O            |
|RIP         |R            |
|EIGRP       |D            |
|static route|S            |
|直接ルート  |C            |


**[デフォルトルート]**
  - 特徴 
    - ルーティングテーブルにない未知の宛先へのパケットを破棄する
    - ルーティングテーブルのサイズを小さくできる
  - 用いられる理由
    - メモリやCPUなどのシステムリソースに制限がある場合
    - スタブネットワークのルータ
    - インターネット接続しているルータ
    - 特定のネットワークを学習することが望ましくないトポロジの場合
  - デフォルトルートの設定
    - `(config)#ip route 0.0.0.0 0.0.0.0 <next-hop>`
    - 0.0.0.0/0はデフォルトルートを示している


- アドミニストレーティブディスタンス
  - 1つの宛先に複数の情報源がある場合、最も優先度の高い信頼源からの情報だけをルーティングテーブルに登録する 
  - この優先度を決めるための管理値を**アドミニストレーティブディスタンス**という
  - よって経路情報の信頼性を示す尺度になる 
  
|経路の情報源|デフォルトのAD値|
|:-----------|:------------|
|直接接続         　|0     |
|スタティックルート |1     |
|EIGRP(集約)        |5     |
|BGP(外部)          |20    |
|EIGRP(内部)        |90    |
|OSPF               |110   |
|RIPv1 RIPv2        |120   |
|EIGRP(外部)        |170   |
|BGP(内部)          |200   |
|EIGRP(内部)        |C     |
|不明               |255   |

(*)AD値が低い方が優先度が高い

